/*!
** An extension to the jQuery Validation Plugin which makes it use Globalize.js for number and date parsing
** by Andres KÃ¤ver, based on work by John Reilly
*/
!function(t,e){var a={min:t.validator.methods.min,max:t.validator.methods.max,range:t.validator.methods.range};t.validator.methods.dateGlobalizeOptions={dateParseFormat:[{skeleton:"yMd"},{skeleton:"yMMMd"},{date:"short"},{date:"medium"},{date:"long"},{date:"full"}]},t.validator.methods.timeGlobalizeOptions={dateParseFormat:[{skeleton:"Hm"},{skeleton:"hm"},{time:"short"},{time:"medium"},{time:"long"},{time:"full"}]},t.validator.methods.datetimeGlobalizeOptions={dateParseFormat:[{skeleton:"yMdHm"},{skeleton:"yMdhm"},{datetime:"short"},{datetime:"medium"},{datetime:"long"},{datetime:"full"},{raw:"d.M.y H:m"},{raw:"dd/MM/y HH:mm"}]},t.validator.methods.date=function(a,o){if(!0===this.optional(o))return!0;if("datetime"===t(o).attr("type"))return!0;a=a.trim();for(var r,i=!1,d=0;d<t.validator.methods.dateGlobalizeOptions.dateParseFormat.length;d++)if(r=e.parseDate(a,t.validator.methods.dateGlobalizeOptions.dateParseFormat[d]),!0===(i=i||r instanceof Date))return i;return i},t.validator.methods.time=function(a,o){if(!0===this.optional(o))return!0;a=a.trim();for(var r,i=!1,d=0;d<t.validator.methods.timeGlobalizeOptions.dateParseFormat.length;d++)if(r=e.parseDate(a,t.validator.methods.timeGlobalizeOptions.dateParseFormat[d]),console.log(t.validator.methods.timeGlobalizeOptions.dateParseFormat[d],r,e.dateFormatter(t.validator.methods.timeGlobalizeOptions.dateParseFormat[d])(new Date(2016,1,1,0,0,0))),i=i||r instanceof Date,console.log(i),!0===i)return i;return i},t.validator.methods.datetime=function(a,o){if(!0===this.optional(o))return!0;a=a.trim();for(var r,i=!1,d=0;d<t.validator.methods.datetimeGlobalizeOptions.dateParseFormat.length;d++)if(r=e.parseDate(a,t.validator.methods.datetimeGlobalizeOptions.dateParseFormat[d]),!0===(i=i||r instanceof Date))return i;return i},t.validator.methods.number=function(t,a){var o=e.parseNumber(t.replace(".",","));return isFinite(o)||(o=e.parseNumber(t.replace(",","."))),this.optional(a)||isFinite(o)},t.validator.methods.min=function(t,o,r){var i=e.parseNumber(t);return a.min.call(this,i,o,r)},t.validator.methods.max=function(t,o,r){var i=e.parseNumber(t);return a.max.call(this,i,o,r)},t.validator.methods.range=function(t,o,r){var i=e.parseNumber(t);return a.range.call(this,i,o,r)},t.validator.unobtrusive.adapters.addBool("time"),t.validator.unobtrusive.adapters.addBool("datetime")}(jQuery,Globalize);